# Claude Code æ’ä»¶ç³»ç»Ÿé…ç½®

æœ¬é…ç½®å¯ç”¨äº† Claude Code çš„æ’ä»¶å¸‚åœºåŠŸèƒ½ï¼Œç”¨äºå›¢é˜Ÿæ’ä»¶åˆ†å‘å’Œç®¡ç†ã€‚

## æ’ä»¶ç³»ç»Ÿä»‹ç»

Claude Code æ’ä»¶ç³»ç»Ÿå…è®¸æ‚¨é€šè¿‡ä»¥ä¸‹ç»„ä»¶æ‰©å±• Claude Code çš„åŠŸèƒ½ï¼š

- **Commands** - è‡ªå®šä¹‰æ–œæ å‘½ä»¤ (å¦‚ `/deploy`, `/review`)
- **Agents** - ä¸“ä¸šåŒ–çš„å­ä»£ç† (å¦‚ä»£ç å®¡æŸ¥ä»£ç†ã€æµ‹è¯•ä»£ç†)
- **Skills** - Agent Skillsï¼Œæ¨¡å‹å¯æ ¹æ®ä¸Šä¸‹æ–‡è‡ªä¸»è°ƒç”¨
- **Hooks** - äº‹ä»¶é’©å­ï¼Œåœ¨ç‰¹å®šäº‹ä»¶æ—¶è§¦å‘è„šæœ¬
- **MCP Servers** - é›†æˆå¤–éƒ¨å·¥å…·å’ŒæœåŠ¡

## code-infra æ’ä»¶å¸‚åœº

æœ¬é…ç½®å·²å¯ç”¨ `code-infra` æ’ä»¶å¸‚åœºï¼ŒåŒ…å«ä»¥ä¸‹å›¢é˜Ÿæ’ä»¶ï¼š

### ğŸ“¦ common
**é€šç”¨å¼€å‘å¢å¼ºæ’ä»¶**
- å¸¸ç”¨å‘½ä»¤å’Œå·¥ä½œæµ
- é€šç”¨ä»£ç æ¨¡æ¿
- æœ€ä½³å®è·µæç¤º

### ğŸŒ web-dev
**Web å¼€å‘å·¥å…·é›†**
- å‰ç«¯æ¡†æ¶è¾…åŠ© (React, Vue, etc.)
- ç»„ä»¶ç”Ÿæˆå‘½ä»¤
- æ€§èƒ½ä¼˜åŒ–å»ºè®®

### ğŸŸ¢ nodejs
**Node.js å¼€å‘å·¥å…·**
- npm/pnpm/yarn å·¥ä½œæµ
- åŒ…ç®¡ç†å’Œä¾èµ–åˆ†æ
- Node.js æœ€ä½³å®è·µ

### ğŸ¯ fullstack
**å…¨æ ˆå¼€å‘å·¥å…·åŒ…**
- å‰åç«¯é›†æˆå·¥ä½œæµ
- API è®¾è®¡å’Œæ–‡æ¡£ç”Ÿæˆ
- æ•°æ®åº“æ¨¡å¼ç®¡ç†

### ğŸ”§ cli-dx
**CLI å¼€å‘ä½“éªŒä¼˜åŒ–**
- å‘½ä»¤è¡Œå·¥å…·å¼€å‘è¾…åŠ©
- å‚æ•°è§£æå’ŒéªŒè¯
- ç»ˆç«¯ UI ç»„ä»¶

### ğŸ“ obsidian
**Obsidian ç¬”è®°é›†æˆ**
- ç¬”è®°æ¨¡æ¿ç”Ÿæˆ
- çŸ¥è¯†åº“æœç´¢
- æ–‡æ¡£é“¾æ¥ç®¡ç†

## æ’ä»¶ç®¡ç†å‘½ä»¤

### åŸºç¡€å‘½ä»¤

```bash
# æµè§ˆå·²å®‰è£…çš„æ’ä»¶
/plugin

# å®‰è£…æ’ä»¶ï¼ˆäº¤äº’å¼é€‰æ‹©ï¼‰
/plugin install

# å®‰è£…æŒ‡å®šæ’ä»¶
/plugin install web-dev@code-infra

# å¯ç”¨/ç¦ç”¨æ’ä»¶
/plugin enable common@code-infra
/plugin disable common@code-infra

# å¸è½½æ’ä»¶
/plugin uninstall web-dev@code-infra
```

### æ’ä»¶å¸‚åœºç®¡ç†

```bash
# æ·»åŠ æ’ä»¶å¸‚åœº
/plugin marketplace add

# æµè§ˆæ’ä»¶å¸‚åœº
/plugin marketplace list

# ä»æ’ä»¶å¸‚åœºç§»é™¤
/plugin marketplace remove code-infra
```

## æ’ä»¶å‘½åç©ºé—´

æ’ä»¶é€šè¿‡ `plugin-name@marketplace-name` æ ¼å¼å¼•ç”¨ï¼Œç¡®ä¿æ¥è‡ªä¸åŒå¸‚åœºçš„åŒåæ’ä»¶ä¸å†²çªã€‚

**ç¤ºä¾‹ï¼š**
- `common@code-infra` - code-infra å¸‚åœºçš„ common æ’ä»¶
- `utils@official` - å®˜æ–¹å¸‚åœºçš„ utils æ’ä»¶

## å›¢é˜Ÿåä½œå»ºè®®

### é¡¹ç›®çº§é…ç½® (æ¨è)

åœ¨é¡¹ç›®çš„ `.claude/settings.json` ä¸­é…ç½®å›¢é˜Ÿæ’ä»¶ï¼š

```json
{
  "extraKnownMarketplaces": {
    "code-infra": {
      "source": "./plugins"
    }
  },
  "enabledPlugins": {
    "common@code-infra": true,
    "web-dev@code-infra": true
  }
}
```

**ä¼˜åŠ¿ï¼š**
- âœ“ å›¢é˜Ÿæˆå‘˜å…‹éš†é¡¹ç›®åè‡ªåŠ¨æç¤ºå®‰è£…æ’ä»¶
- âœ“ ç¡®ä¿å›¢é˜Ÿä½¿ç”¨ä¸€è‡´çš„å·¥å…·é›†
- âœ“ é…ç½®æäº¤åˆ°ç‰ˆæœ¬æ§åˆ¶ï¼Œä¾¿äºç»´æŠ¤

### ç”¨æˆ·çº§é…ç½®

åœ¨ `~/.claude/settings.json` ä¸­é…ç½®ä¸ªäººåå¥½çš„æ’ä»¶ã€‚

### æœ¬åœ°çº§é…ç½®

åœ¨ `.claude/settings.local.json` ä¸­é…ç½®æœºå™¨ç‰¹å®šçš„æ’ä»¶ï¼ˆä¸æäº¤åˆ°ç‰ˆæœ¬æ§åˆ¶ï¼‰ã€‚

## æƒé™å’Œä¿¡ä»»è¾¹ç•Œ

### æ’ä»¶å¸‚åœºä¿¡ä»»æç¤º

å½“é¡¹ç›®é…ç½®äº† `extraKnownMarketplaces` æ—¶ï¼š
1. å›¢é˜Ÿæˆå‘˜é¦–æ¬¡æ‰“å¼€é¡¹ç›®ä¼šæ”¶åˆ°å®‰è£…å¸‚åœºçš„æç¤º
2. ç”¨æˆ·å¯ä»¥é€‰æ‹©ä¿¡ä»»å¹¶å®‰è£…ï¼Œæˆ–è·³è¿‡è¯¥å¸‚åœº
3. è·³è¿‡çš„å¸‚åœºä¼šè®°å½•åœ¨ç”¨æˆ·é…ç½®ä¸­

### æ’ä»¶å®‰è£…æç¤º

å¯ç”¨ `enabledPlugins` çš„æ’ä»¶ä¼šï¼š
1. æç¤ºç”¨æˆ·å®‰è£…ï¼ˆå¦‚æœæœªå®‰è£…ï¼‰
2. å°Šé‡ç”¨æˆ·çš„é€‰æ‹©ï¼ˆå¯æ‹’ç»å®‰è£…ï¼‰
3. å·²å®‰è£…çš„æ’ä»¶å¯é€šè¿‡ `/plugin` å‘½ä»¤ç®¡ç†

## æ’ä»¶å¼€å‘å‚è€ƒ

### æ’ä»¶ç›®å½•ç»“æ„

```
my-plugin/
â”œâ”€â”€ .claude-plugin/
â”‚   â””â”€â”€ plugin.json          # æ’ä»¶æ¸…å• (å¿…éœ€)
â”œâ”€â”€ commands/                # æ–œæ å‘½ä»¤ (.md æ–‡ä»¶)
â”œâ”€â”€ agents/                  # å­ä»£ç†å®šä¹‰ (.md æ–‡ä»¶)
â”œâ”€â”€ skills/                  # Agent Skills
â”‚   â””â”€â”€ {skill-name}/
â”‚       â””â”€â”€ SKILL.md
â”œâ”€â”€ hooks/                   # äº‹ä»¶é’©å­
â”‚   â””â”€â”€ hooks.json
â”œâ”€â”€ scripts/                 # è„šæœ¬æ–‡ä»¶
â”œâ”€â”€ .mcp.json               # MCP æœåŠ¡å™¨é…ç½® (å¯é€‰)
â””â”€â”€ README.md               # æ’ä»¶æ–‡æ¡£
```

### plugin.json ç¤ºä¾‹

```json
{
  "name": "my-plugin",
  "version": "1.0.0",
  "description": "æˆ‘çš„è‡ªå®šä¹‰æ’ä»¶",
  "author": {
    "name": "Your Name"
  }
}
```

### å‘½ä»¤ç¤ºä¾‹ (commands/hello.md)

```markdown
---
description: æ‰“å°é—®å€™æ¶ˆæ¯
---

# Hello å‘½ä»¤

æ‰“å°ä¸€æ¡å‹å¥½çš„é—®å€™æ¶ˆæ¯ï¼š

Hello! è¿™æ˜¯æ¥è‡ªè‡ªå®šä¹‰æ’ä»¶çš„é—®å€™ã€‚
```

### å¼€å‘å·¥ä½œæµ

1. **åˆ›å»ºæ’ä»¶ç›®å½•ç»“æ„**
   ```bash
   mkdir -p plugins/my-plugin/.claude-plugin
   mkdir -p plugins/my-plugin/{commands,agents,skills,hooks}
   ```

2. **åˆ›å»º plugin.json**
   å®šä¹‰æ’ä»¶å…ƒæ•°æ®

3. **æ·»åŠ ç»„ä»¶**
   æ ¹æ®éœ€è¦æ·»åŠ  commands, agents, skills, hooks

4. **æœ¬åœ°æµ‹è¯•**
   åœ¨ settings.json ä¸­é…ç½®å¹¶æµ‹è¯•

5. **å‘å¸ƒåˆ°å›¢é˜Ÿ**
   æäº¤åˆ°ç‰ˆæœ¬æ§åˆ¶ï¼Œå›¢é˜Ÿæˆå‘˜å¯è‡ªåŠ¨è·å–

### æ›´å¤šå‚è€ƒ

è¯¦ç»†çš„æ’ä»¶å¼€å‘æŒ‡å—è¯·å‚è€ƒé¡¹ç›®æ ¹ç›®å½•çš„ `CLAUDE.md` æ–‡ä»¶ï¼Œå…¶ä¸­åŒ…å«ï¼š
- æ’ä»¶ç»„ä»¶ç±»å‹è¯¦è§£
- å¸‚åœºé…ç½®è§„èŒƒ
- Hooks å’Œ MCP æœåŠ¡å™¨é…ç½®
- å›¢é˜Ÿåä½œæœ€ä½³å®è·µ

## ä½¿ç”¨å»ºè®®

### é€‰æ‹©åˆé€‚çš„æ’ä»¶

æ ¹æ®é¡¹ç›®ç±»å‹é€‰æ‹©åˆé€‚çš„æ’ä»¶ï¼š
- **é€šç”¨é¡¹ç›®**: common
- **Web åº”ç”¨**: common + web-dev
- **Node.js æœåŠ¡**: common + nodejs
- **å…¨æ ˆé¡¹ç›®**: common + fullstack + web-dev
- **CLI å·¥å…·**: common + cli-dx
- **æ–‡æ¡£å¯†é›†å‹**: common + obsidian

### å®šæœŸæ›´æ–°æ’ä»¶

```bash
# æ£€æŸ¥æ’ä»¶æ›´æ–°
/plugin

# é‡æ–°å®‰è£…æ’ä»¶ä»¥è·å–æœ€æ–°ç‰ˆæœ¬
/plugin install plugin-name@code-infra
```

### è´¡çŒ®æ’ä»¶

å¦‚éœ€ä¸ºå›¢é˜Ÿå¼€å‘æ–°æ’ä»¶ï¼š
1. å‚è€ƒç°æœ‰æ’ä»¶ç»“æ„
2. éµå¾ªå‘½åè§„èŒƒ
3. æä¾›æ¸…æ™°çš„æ–‡æ¡£
4. é€šè¿‡ Pull Request è´¡çŒ®åˆ° code-infra ä»“åº“

## æ•…éšœæ’é™¤

### æ’ä»¶æœªåŠ è½½

1. æ£€æŸ¥ plugin.json è¯­æ³•æ˜¯å¦æ­£ç¡®
2. ç¡®è®¤ç›®å½•ç»“æ„ç¬¦åˆè§„èŒƒï¼ˆç»„ä»¶ç›®å½•åœ¨æ’ä»¶æ ¹ç›®å½•ï¼‰
3. ä½¿ç”¨ `claude --debug` æŸ¥çœ‹åŠ è½½è¯¦æƒ…

### å‘½ä»¤æœªå‡ºç°

1. ç¡®è®¤ commands/ ç›®å½•åœ¨æ’ä»¶æ ¹ç›®å½•
2. æ£€æŸ¥ .md æ–‡ä»¶æ ¼å¼å’Œ frontmatter
3. é‡å¯ Claude Code

### å¸‚åœºæ— æ³•æ·»åŠ 

1. æ£€æŸ¥ source è·¯å¾„æ˜¯å¦æ­£ç¡®
2. ç¡®è®¤ .claude-plugin/marketplace.json å­˜åœ¨
3. æŸ¥çœ‹é”™è¯¯æ—¥å¿—

## ç›¸å…³èµ„æº

- [Claude Code æ’ä»¶å®˜æ–¹æ–‡æ¡£](https://docs.claude.com/en/docs/claude-code/plugins)
- [æ’ä»¶å¸‚åœºæ–‡æ¡£](https://docs.claude.com/en/docs/claude-code/plugin-marketplaces)
- [æ’ä»¶å‚è€ƒæ–‡æ¡£](https://docs.claude.com/en/docs/claude-code/plugins-reference)
- [é¡¹ç›® CLAUDE.md](../CLAUDE.md) - è¯¦ç»†çš„å¼€å‘æŒ‡å—
